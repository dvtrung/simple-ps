WIDTH=16;
DEPTH=4096;
ADDRESS_RADIX=UNS;
DATA_RADIX=BIN;
CONTENT BEGIN
	[0..4095] : 0;

--:start
	0:	1100000011000001; -- in 0 1
	1:	1100000111000000; -- in 1 0
--
	2:	1100001001100000; -- mov 2 0
	3:	1100101000000000; -- add 2 1
	4:	1100001101100000; -- mov 3 0
	5:	1100101100010000; -- sub 3 1
	6:	1100000011010001; -- out 0 1
	7:	1100100011010010; -- out 1 2
	8:	1101000011010100; -- out 2 4
	9:	1101100011010101; -- out 3 5
--
	10:	1100001001100000; -- mov 2 0
	11:	1100001010000001; -- sll 2 1
	12:	1100001101100000; -- mov 3 0
	13:	1100001110100001; -- srl 3 1
	14:	1101000011011000; -- out 2 8
	15:	1101100011011001; -- out 3 9
--
	16:	1100001001100000; -- mov 2 0
	17:	1100001010010001; -- slr 2 1
	18:	1100001101100000; -- mov 3 0
	19:	1100001110110001; -- sra 3 1
	20:	1101000011011010; -- out 2 10
	21:	1101100011011011; -- out 3 11
--
	22:	1011000000000110; -- bal :mul
	23:	1110000011101111; -- nop
	24:	1011000000001100; -- bal :div
	25:	1110000011101111; -- nop
	26:	1101000011010110; -- out 2 6
	27:	1101100011010111; -- out 3 7
--
	28:	1010000011100011; -- b 0 :start
--
--:mul
	29:	1000011100000000; -- li 7 0
	30:	1000001000000000; -- li 2 0
--:loop_mul
	31:	1100101000000000; -- add 2 1
	32:	1000111100000001; -- addi 7 1
	33:	1100011101010000; -- cmp 7 0
	34:	1011101111111100; -- bne :loop_mul
	35:	1110000011101111; -- nop
	36:	1010100000000000; -- bs
--
--:div
	37:	1110000011101111; -- nop
	38:	1000001100000000; -- li 3 0
	39:	1110000011101111; -- nop
	40:	1000011100000000; -- li 7 0
--:loop_div
	41:	1000101100000001; -- addi 3 1
	42:	1100111100000000; -- add 7 1
	43:	1100011101010000; -- cmp 7 0
	44:	1011101011111100; -- ble :loop_div
	45:	1000101111111111; -- addi 3 -1
	46:	1010100000000000; -- bs
END;
